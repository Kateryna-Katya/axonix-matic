{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // ==========================================\n  // 1. Инициализация Lenis (Плавный скролл)\n  // ==========================================\n  // Делает прокрутку страницы инерционной и плавной, как на премиальных сайтах.\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      orientation: 'vertical',\n      gestureDirection: 'vertical',\n      smooth: true,\n      mouseMultiplier: 1,\n      smoothTouch: false,\n      touchMultiplier: 2,\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // ==========================================\n  // 2. Мобильное Меню\n  // ==========================================\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const links = document.querySelectorAll('.header__link');\n  const body = document.body;\n\n  if (burger && nav) {\n      burger.addEventListener('click', () => {\n          nav.classList.toggle('is-active');\n\n          // Блокируем скролл страницы, когда меню открыто\n          if (nav.classList.contains('is-active')) {\n              lenis.stop();\n              body.style.overflow = 'hidden';\n          } else {\n              lenis.start();\n              body.style.overflow = '';\n          }\n      });\n\n      // Закрываем меню при клике на любую ссылку\n      links.forEach(link => {\n          link.addEventListener('click', () => {\n              nav.classList.remove('is-active');\n              lenis.start();\n              body.style.overflow = '';\n          });\n      });\n  }\n\n  // ==========================================\n  // 3. Анимации Hero (GSAP)\n  // ==========================================\n  if (typeof gsap !== 'undefined') {\n\n      // --- 3.1 Анимация загрузки (Появление элементов) ---\n      const heroTitle = document.querySelector('.hero__title');\n      const heroSubtitle = document.querySelector('.hero__subtitle');\n      const heroActions = document.querySelector('.hero__actions');\n      const heroBadge = document.querySelector('.hero__badge');\n\n      if (heroTitle) {\n          // Скрываем элементы перед стартом\n          gsap.set([heroBadge, heroTitle, heroSubtitle, heroActions], {\n              y: 30,\n              autoAlpha: 0\n          });\n\n          const tlLoad = gsap.timeline({ defaults: { ease: \"power2.out\" } });\n\n          tlLoad\n              .to(heroBadge, { y: 0, autoAlpha: 1, duration: 0.8, delay: 0.2 })\n              .to(heroTitle, { y: 0, autoAlpha: 1, duration: 0.8 }, \"-=0.6\")\n              .to(heroSubtitle, { y: 0, autoAlpha: 1, duration: 0.8 }, \"-=0.6\")\n              .to(heroActions, { y: 0, autoAlpha: 1, duration: 0.8 }, \"-=0.6\");\n      }\n\n      // --- 3.2 Ротатор текста (Барабан: вас -> рост -> результат) ---\n      const words = document.querySelectorAll('.hero__changing-text');\n\n      if(words.length > 0) {\n          gsap.set(words, { y: \"100%\", opacity: 0, position: \"absolute\" });\n          gsap.set(words[0], { y: \"0%\", opacity: 1 }); // Первое слово активно\n\n          let currentWordIndex = 0;\n\n          function rotateWords() {\n              const nextIndex = (currentWordIndex + 1) % words.length;\n              const currentWord = words[currentWordIndex];\n              const nextWord = words[nextIndex];\n\n              const tl = gsap.timeline();\n\n              tl.to(currentWord, {\n                  y: \"-100%\",\n                  opacity: 0,\n                  duration: 0.6,\n                  ease: \"power3.inOut\"\n              })\n              .fromTo(nextWord, {\n                  y: \"100%\",\n                  opacity: 0\n              }, {\n                  y: \"0%\",\n                  opacity: 1,\n                  duration: 0.6,\n                  ease: \"power3.out\"\n              }, \"-=0.5\");\n\n              currentWordIndex = nextIndex;\n          }\n\n          setInterval(rotateWords, 3000);\n      }\n\n      // --- 3.3 Параллакс эффект (Свечение на фоне) ---\n      const glow = document.querySelector('.hero__bg-glow');\n\n      if(glow) {\n          window.addEventListener('mousemove', (e) => {\n              const xPos = (e.clientX / window.innerWidth) - 0.5;\n              const yPos = (e.clientY / window.innerHeight) - 0.5;\n\n              gsap.to(glow, {\n                  x: xPos * 250,\n                  y: yPos * 250,\n                  duration: 2,\n                  ease: \"power2.out\"\n              });\n          });\n      }\n  } else {\n      console.warn(\"GSAP не найден. Анимации отключены.\");\n  }\n\n  // ==========================================\n  // 4. FAQ Accordion (Аккордеон вопросов)\n  // ==========================================\n  const accordions = document.querySelectorAll('.accordion__item');\n\n  accordions.forEach(item => {\n      const trigger = item.querySelector('.accordion__trigger');\n      trigger.addEventListener('click', () => {\n          // Опционально: закрывать другие при открытии одного\n          /*\n          accordions.forEach(other => {\n              if (other !== item) other.classList.remove('is-open');\n          });\n          */\n          item.classList.toggle('is-open');\n      });\n  });\n\n  // ==========================================\n  // 5. Contact Form Logic (Валидация + Капча)\n  // ==========================================\n  const form = document.getElementById('contactForm');\n  const captchaQ = document.getElementById('captchaQ');\n  const captchaAns = document.getElementById('captchaAns');\n\n  if (form) {\n      // Генерация простой математической капчи\n      const num1 = Math.floor(Math.random() * 10);\n      const num2 = Math.floor(Math.random() * 10);\n      const correctAns = num1 + num2;\n\n      if(captchaQ) captchaQ.innerText = `${num1} + ${num2}`;\n\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n          let isValid = true;\n\n          // 1. Валидация телефона (Только цифры)\n          const phoneInput = document.getElementById('phone');\n          const phoneRegex = /^\\d+$/;\n\n          if (!phoneRegex.test(phoneInput.value)) {\n              phoneInput.parentElement.classList.add('error');\n              isValid = false;\n          } else {\n              phoneInput.parentElement.classList.remove('error');\n          }\n\n          // 2. Валидация капчи\n          if (parseInt(captchaAns.value) !== correctAns) {\n              captchaAns.parentElement.classList.add('error');\n              isValid = false;\n          } else {\n              captchaAns.parentElement.classList.remove('error');\n          }\n\n          // 3. Симуляция отправки (AJAX)\n          if (isValid) {\n              const btn = form.querySelector('button[type=\"submit\"]');\n              const originalText = btn.innerHTML;\n\n              btn.innerHTML = 'Отправка...';\n              btn.disabled = true;\n\n              // Имитация задержки сервера 1.5 сек\n              setTimeout(() => {\n                  form.classList.add('success'); // Показываем блок успеха\n                  btn.innerHTML = originalText;\n                  btn.disabled = false;\n                  form.reset();\n\n                  // Обновляем капчу после отправки\n                  const n1 = Math.floor(Math.random() * 10);\n                  const n2 = Math.floor(Math.random() * 10);\n                  if(captchaQ) captchaQ.innerText = `${n1} + ${n2}`;\n              }, 1500);\n          }\n      });\n\n      // Убираем ошибку при вводе\n      const inputs = form.querySelectorAll('input');\n      inputs.forEach(inp => {\n          inp.addEventListener('input', () => {\n              inp.parentElement.classList.remove('error');\n          });\n      });\n  }\n\n  // ==========================================\n  // 6. Cookie Popup (Сохранение в localStorage)\n  // ==========================================\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookies');\n\n  // Показываем через 2 секунды, если еще не приняли\n  if (!localStorage.getItem('cookiesAccepted') && cookiePopup) {\n      setTimeout(() => {\n          cookiePopup.classList.add('show');\n      }, 2000);\n  }\n\n  if (acceptBtn) {\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('show');\n      });\n  }\n\n  // ==========================================\n  // 7. Инициализация иконок Lucide\n  // ==========================================\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  } else {\n      console.warn(\"Библиотека иконок Lucide не загружена\");\n  }\n\n  console.log('Axonix-Matic: All systems operational.');\n});"],"names":["lenis","t","raf","time","burger","nav","links","body","link","heroTitle","heroSubtitle","heroActions","heroBadge","words","rotateWords","nextIndex","currentWordIndex","currentWord","nextWord","glow","e","xPos","yPos","item","form","captchaQ","captchaAns","num1","num2","correctAns","isValid","phoneInput","btn","originalText","n1","n2","inp","cookiePopup","acceptBtn"],"mappings":"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"}